<script type="text/javascript">
	var thecontent = function(){
		return "This is dynamically generated content!";
	};
	var results = [
		{
			"options": {
				"uid": "longstanton",
				"position": [52.29633,0.05004],
				"title": "Longstanton Marker",
				"clickable": true,
				"draggable": false,
				"animation": "drop"
			},
			"events": {
				"click": function(ev){
					var iw = $('#canvas').goomaps('getinfowindow');
					var map = $('#canvas').goomaps('getmap');
					var content = "<p>"+thecontent()+"</p>";
					iw.close();
					iw.setContent(content);
					iw.open(map, this);
				}
			}
		}
	];
	$(document).ready(function() {
		$('#canvas').goomaps({
			"center":[52.26017,0.0683],
			"MapTypeId":"roadmap",
			"zoom":10
		});
		$('#canvas').goomaps('setmarkers', results);
	});
</script>
<h2>Set InfoWindow content dynamically</h2>
<p>Instead of passing an info option to the marker, set the infowindow content with a function!</p>
<div id="canvas" style="height: 400px;"></div>
<h3>Code:</h3>
<pre class="code">
	var thecontent = function(){
		return "This is dynamically generated content!";
	};
	var results = [
		{
			"options": {
				"uid": "longstanton",
				"position": [52.29633,0.05004],
				"title": "Longstanton Marker",
				"clickable": true,
				"draggable": false,
				"animation": "drop"
			},
			"events": {
				"click": function(ev){
					var iw = $('#canvas').goomaps('getinfowindow');
					var map = $('#canvas').goomaps('getmap');
					var content = "<p>"+thecontent()+"</p>";
					iw.close();
					iw.setContent(content);
					iw.open(map, this);
				}
			}
		}
	];
	$(document).ready(function() {
		$('#canvas').goomaps({
			"center":[52.26017,0.0683],
			"MapTypeId":"roadmap",
			"zoom":10
		});
		$('#canvas').goomaps('setmarkers', results);
	});
</pre>
