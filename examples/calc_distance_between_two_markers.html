<script type="text/javascript">
	$(document).ready(function() {
		// create a map:
		$('#canvas').goomaps({
			center: [52.257347,0.054988],
			zoom: 6,
			mapTypeId: 'roadmap'
		});

		calculate = function(){
			// get all markers:
			arr = $('#canvas').goomaps('getmarkers', { } );

			// alert distance:
			alert('Distance: ' + $.fn.goomaps.distance(arr[0].getPosition(), arr[1].getPosition()) + ' km');
		}

		// add some markers:
		markers = [
			{
				options: {
					position: [52.257347,0.054988],
					title: 'Marker1',
					draggable: true,
				},
				events: {
					'dragend': function(event){
						calculate();
					}
				}
			},
			{
				options: {
					position: [52, 10],
					title: 'Marker2',
					draggable: true
				},
				events: {
					'dragend': function(event){
						calculate();
					}
				}
			}
		];
		$('#canvas').goomaps('setmarkers', markers);
	});
</script>
<h2>Calculate distance (as the crow flies) between two markers after dragging one of them</h2>
<div id="canvas" style="height: 400px;"></div>
<h3>Code:</h3>
<pre class="code">
// create a map:
$('#canvas').goomaps({
	center: [52.257347,0.054988],
	zoom: 6,
	mapTypeId: 'roadmap'
});

calculate = function(){
	// get all markers:
	arr = $('#canvas').goomaps('getmarkers', { } );

	// alert distance:
	alert('Distance: ' + $.fn.goomaps.distance(arr[0].getPosition(), arr[1].getPosition()) + ' km');
}

// add some markers:
markers = [
	{
		options: {
			position: [52.257347,0.054988],
			title: 'Marker1',
			draggable: true,
		},
		events: {
			'dragend': function(event){
				calculate();
			}
		}
	},
	{
		options: {
			position: [52, 10],
			title: 'Marker2',
			draggable: true
		},
		events: {
			'dragend': function(event){
				calculate();
			}
		}
	}
];
$('#canvas').goomaps('setmarkers', markers);
</pre>
